<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<title>Add User Page</title>
	<link href="css/style.css" rel="stylesheet">
</head>

<body>
	<nav class="navbar">
		<div class="navbar-container">
			<a class="forbutton navbtn" href="/">Navigate to Home</a>
						<a class="forbutton navbtn" href="/login">Menu</a>
			<a href="/askid" class="forbutton navbtn">Edit User</a>
			<a href="/askpidfordelete" class="forbutton navbtn">Delete User</a>
			<a href="/showall" class="forbutton navbtn">All User Details</a>
				<a class="forbutton navbtn" href="/logout">LogOut</a>
		</div>
	</nav>
	<div class="login-page">
		<div class="form">
			<div th:if="${Abcd}">
				<form method="post" autocomplete="off" class="login-form" action="/adduser"
					th:object="${AdduserRequest}" onsubmit="return validateInput()">
					<div th:if="${errorMessage}">
						<span th:text="${errorMessage}" style="color: red;"></span>
					</div>
					<div th:if="${succsessmessage}">
						<span th:text="${succsessmessage}" style="color:green;"></span><br>
					</div>
					<input type="number" name="personalid" placeholder="Personal ID" required id="inputNumber">
					<input type="text" name="username" placeholder="User Name" required maxlength="150">
					<input type="password" name="password" placeholder="Password"
						pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
						title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
						required maxlength="100">
					<select name="access" required>
						<option value="" disabled selected>Access</option>
						<option value="Staff">Staff</option>
						<option value="adm">Admission Team</option>
						<option value="acc">Account Team</option>
						<option value="admin">Admin</option>
					</select>
					<input class="forbutton btn" type="submit" value="add user">
				</form>
			</div>
			<div th:if="${efgh}">
				<form method="post" autocomplete="off" class="login-form" action="/adduser"
					th:object="${AdduserRequest}" onsubmit="return validateInput()">
					<div th:if="${errorMessage}">
						<span th:text="${errorMessage}" style="color: red;"></span>
					</div>
					<div th:if="${succsessmessage}">
						<span th:text="${succsessmessage}" style="color:green;"></span><br>
					</div>
					<input type="number" name="personalid" placeholder="Personal ID" required id="inputNumber"
						th:value="${Adduser.personalid}">
					<input type="text" name="username" placeholder="User Name" required maxlength="150"
						th:value="${Adduser.username}">
					<input type="password" name="password" placeholder="Password"
						pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
						title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
						required maxlength="100" th:value="${Adduser.password}">
					<select name="access" required th:field="${Adduser.access}">
						<option value="" disabled selected>Access</option>
						<option value="Staff">Staff</option>
						<option value="adm">Admission Team</option>
						<option value="acc">Account Team</option>
						<option value="admin">Admin</option>
					</select>
					<input class="forbutton btn" type="submit" value="add user">
				</form>
			</div>


		</div>
	</div>
	<script>
		function validateInput() {
			var number = Number(document.getElementById("inputNumber").value);
			if (number <= 0 || number > 922337203685477) {
				alert("Invalid Reg No");
				return false;
			}
			return true;
		}
	</script>
</body>

</html>